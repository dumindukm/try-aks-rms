parameters:
  dockerhub-servicecnt: ''
  tag : '1'
  project-path: ''
  docker-repo: ''


steps:   
    - task: Docker@2
      displayName: 'Build and push the image to container registry'
      inputs:
        command: buildAndPush
        buildContext: '$(Build.Repository.LocalPath)/${{parameters.project-path}}'
        repository: '${{parameters.webRepository}}'
        dockerfile: '$(Build.SourcesDirectory)/${{parameters.project-path}}/Dockerfile'
        containerRegistry: '${{ parameters.buildConfiguration }}'
        tags: |
          '${{ parameters.tag }}'